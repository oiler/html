<!DOCTYPE html>
<!--[if lte IE 6]><html class="preIE7 preIE8 preIE9"><![endif]-->
<!--[if IE 7]><html class="preIE8 preIE9"><![endif]-->
<!--[if IE 8]><html class="preIE9"><![endif]-->
<!--[if gte IE 9]><!--><html><!--<![endif]-->
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>title</title>
    <meta name="author" content="name">
    <meta name="description" content="description here">
    <meta name="keywords" content="keywords,here">
    <link rel="canonical" href="" />
    <!-- <link rel="shortcut icon" href="favicon.ico" type="image/vnd.microsoft.icon"> -->
    <!-- <link rel="stylesheet" href="//fonts.googleapis.com/css?family=font1|font2|etc" type="text/css"> -->
    <link rel="stylesheet" href="build/css/styles.css" type="text/css">
    <style type="text/css">
      /* critical css */
    </style>
    <!-- http://ogp.me/ -->
    <meta property="og:title" content="" />
    <meta property="og:url" content="" />
    <meta property="og:image" content="" />
    <!-- https://schema.org/docs/full.html -->


</head>
<body>

<style>
    body { margin:0; padding:0; position:relative; }
    header {
        display:flex;
        flex-wrap:nowrap;
        height:48px;
        background-color:black;
        color:white;
        margin:0;
        padding:0;
    }
    h1 { 
        flex:1;
        font-size:2rem;
        margin:0;
        padding:0;
    }
</style>

<svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="128" height="32" viewBox="0 0 128 32">
    <defs>
    <g id="icon-expand">
        <path class="menu-open menu-opened" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        
    </g>
    <g id="icon-contract">
        <path class="menu-close" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </g>
    </defs>
</svg>

  <header>
    <h1>Page Title</h1>
    <div class="menu-icon" data-menu="primary">
      <svg class="icon icon-expand" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><use xlink:href="#icon-expand"></svg>
      <svg class="icon icon-contract" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><use xlink:href="#icon-contract"></use></svg>
    </div>
  </header>
  <nav class="menu" id="primary" data-menu_state="closed">
      <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li class="subnav" data-menu="contact">
              <a class="subnav_title" href="#">Contact</a>
              <ul class="closed" id="contact" data-menu_state="closed">
                  <li><a href="#">subitem 1</a></li>
                  <li><a href="#">subitem 2</a></li>
                  <li><a href="#">subitem 3</a></li>
                  <li><a href="#">subitem 4</a></li>
              </ul>
          </li>
          <li><a href="#">Item 1</a></li>
          <li><a href="#">Item 2</a></li>
          <li><a href="#">Item 3</a></li>
          <li><a href="#">Item 4</a></li>
          <li><a href="#">Item 5</a></li>
          <li><a href="#">Item 6</a></li>
          <li><a href="#">Item 7</a></li>
          <li><a href="#">Item 8</a></li>
          <li><a href="#">Item 9</a></li>
          <li><a href="#">Item 10</a></li>

      </ul>
    </nav>


<script>
/* Global Async */
function init() {
  // ASYNC
  console.log('async');
  'use strict';
var toggles = document.querySelectorAll('[data-menu]');
//console.log(toggles);

function run_toggle(content) {
  //console.log(content);
  // var show = function (content) { content.style.display = 'block'; };
  // var hide = function (content) { content.style.display = 'none'; };
  var show = function (content) { 
    //   content.style.left = '0';
      content.classList.add('open');
  };
  var hide = function (content) { 
    //   content.style.left = '100%';
      content.classList.remove('open'); 
  };
  var toggle_status = content.getAttribute('data-menu_state');;
  // if (window.getComputedStyle(content).left === '0') {
  if (toggle_status === 'open') {
      content.setAttribute('data-menu_state', 'closed');
      hide(content);
      return;
  }
  content.setAttribute('data-menu_state', 'open');
  show(content);
}

Object.keys(toggles).forEach(function(key) {
  var toggle = toggles[key];
  var target = toggle.getAttribute("data-menu");
//   console.log('target', target);
//   console.log('toggle', toggle);
  toggle.addEventListener("click", function (toggle) {
      //if (!event.target.classList.contains('toggle')) return;
      event.preventDefault();
      // var target = toggle.getAttribute("data-menu");
      //console.log('target', target);
      // var content = document.querySelector(event.target.hash);
      var content = document.querySelector("#"+target);
      var button = event.target;
      console.log(button);
      if (!content) return;
      run_toggle(content);
        console.log(event.target.className);
      if (event.target.className === 'icon-expand') {
        event.target.classList.add('close');
      }
      //event.target.classList.toggle('menu-opened');

  });
});



}
if (window.addEventListener) window.addEventListener("load", init, false);
else if (window.attachEvent) window.attachEvent("onload", init);
else window.onload = init;
</script>

</body>
</html>